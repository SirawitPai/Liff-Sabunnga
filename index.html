<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <title>LIFF Sabunnga</title>
    <link rel="stylesheet" href="css/style.css" media="all" />
  </head>
  <body class="bg">
    <!-- Start Container -->
    <!-- <div style="background-image: url('./img/bg.jpg');"></div> -->
    <img src="img/bg.jpg" alt="" width="100%" height="100%" />

    <div class="container">
      <!-- Start Header Content -->
      <div class="row">
        <div class="col s12 text-center">
          <h4>กรุณาเลือกหัวข้อในการแสดงรายการสินค้าดอกไม้</h4>
          <p>ในการเลือกบอทจะช่วยให้่สินค้าตรงตามที่ลูกค้าเลือกมากที่สุด</p>
        </div>
      </div>

      <div class="row">
        <form id="carForm" class="col s12">
          <div class="form-group">
            <!-- <label><h6>เลือกประเภทของการคัดสินค้าดอกไม้แต่ละหมวดหมู่</h6></label> -->
            <label for="email">หัวข้อการคัดสินค้าดอกไม้:</label>
            <select
              class="form-control"
              id="topic"
              name="sellist1"
              style="margin: 10px"
              onchange="topictype()"
            >
              <option value="" disabled selected>
                กรุณาหัวข้อการคัดดอกไม้
              </option>
              <option value="รูปแบบการจัด">รูปแบบการจัด</option>
              <option value="สีดอกไม้">สีดอกไม้</option>
              <option value="ความหมายดอกไม้">ความหมายดอกไม้</option>
              <option value="วันสำคัญ">วันสำคัญ</option>
              <option value="ทั้งหมด">ทั้งหมด</option>
            </select>
            <select
              class="form-control"
              id="flowerarrangement"
              name="sellist2"
              style="display: none ;margin: 10px"
              onchange="topictype()"
            >
              <option value="" disabled selected>รูปแบบการจัดดอกไม้</option>
              <option value="ช่อดอกไม้">ช่อดอกไม้</option>
              <option value="แจกัน">แจกัน</option>
              <option value="พวงหลีด">พวงหลีด</option>
              <option value="ทั้งหมด">ทั้งหมด</option>
            </select>

            <select
              class="form-control"
              id="flowercolor"
              name="sellist3"
              style="display: none;margin: 10px"
              onchange="topictype()"
            >
              <option value="" disabled selected>เลือกสีดอกไม้</option>
              <option value="สีขาว">สีขาว</option>
              <option value="สีแดง">สีแดง</option>
              <option value="สีเหลือง">สีเหลือง</option>
              <option value="สีชมพู">สีชมพู</option>
              <option value="ทั้งหมด">ทั้งหมด</option>
            </select>

            <select
              class="form-control"
              id="flowermeaning"
              name="sellist4"
              style="display: none;margin: 10px"
              onchange="topictype()"
            >
              <option value="" disabled selected>เลือกความหมายดอกไม้</option>
              <option value="ความรัก">ความรัก</option>
              <option value="คำยินดี">คำยินดี</option>
              <option value="ความหวัง">ความหวัง</option>
              <option value="ทั้งหมด">ทั้งหมด</option>
            </select>
 
            <select
              class="form-control"
              id="bigday"
              name="sellist5"
              style="display: none;margin: 10px"
              onchange="topictype()"
            >
              <option value="" disabled selected>เลือกวันสำคัญ</option>
              <option value="วันเกิด">วันเกิด</option>
              <option value="วันครบรอบ">วันครบรอบ</option>
              <option value="วันรับปริณญา">วันรับปริณญา</option>
              <option value="งานศพ">งานศพ</option>
              <option value="ทั้งหมด">ทั้งหมด</option>
            </select>

            <select
              class="form-control"
              id="bouquetsize"
              name="sellist6"
              style="display: none;margin: 10px"
              onchange="topictype()"
            >
              <option value="" disabled selected>ขนาดช่อดอกไม้</option>
              <option value="เล็ก">เล็ก</option>
              <option value="กลาง">กลาง</option>
              <option value="ใหญ่">ใหญ่</option>
              <option value="ทั้งหมด">ทั้งหมด</option>
            </select>

            <select
              class="form-control"
              id="flowervase"
              name="sellist6"
              style="display: none;margin: 10px"
              onchange="topictype()"
            >
              <option value="" disabled selected>รูปแบบแจกัน</option>
              <option value="รูปแบบการจัด">ยาว</option>
              <option value="สีดอกไม้">กลม</option>
              <option value="วันสำคัญ">ทั้งหมด</option>
            </select>

            <select
              class="form-control"
              id="wreathpattern"
              name="sellist6"
              style="display: none ;margin: 10px" 
              onchange="topictype()"
            >
              <option value="" disabled selected>รูปแบบพวงหลีด</option>
              <option value="รูปแบบการจัด">กลม</option>
              <option value="สีดอกไม้">เหลี่ยม</option>
              <option value="วันสำคัญ">ทั้งหมด</option>
            </select>

            <select
              class="form-control"
              id="flowers"
              name="sellist6"
              style="display: none;margin: 10px"
              onchange="topictype()"
            >
              <option value="" disabled selected>เลือกดอกไม้</option>
              <option value="กุหลาบ">กุหลาบ</option>
              <option value="ดอกคัตเตอร์">ดอกคัตเตอร์</option>
              <option value="ดอกคาร์เนชั่น">ดอกคาร์เนชั่น</option>
              <option value="ดอกทานตะวัน">ดอกทานตะวัน</option>
              <option value="ดอกทิวลิป">ดอกทิวลิป</option>
              <option value="ทั้งหมด">ทั้งหมด</option>
            </select>
            <br />
            
            <button
              onclick="sendMsg()"
            >
              คลิกส่งข้อมูลสินค้า
            </button>
            <br/>
            <button id="btnShare" onclick="shareMsg()">แนะนำบอทให้เพื่อน</button>
            <br/>
            <button id="btnClose" onclick="Closed()">Close</button>
          </div>
        </form>
        
      </div>

      <br/><br/><br/>
      <div id="footer" class="center-align text-center">
        <p>
          ร้านดอกไม้สบันงานยินดีให้บริการ 
          <br />
          โทร. 02-9185839
        </p>
      </div>
    </div>

    <script src="js/vconsole.min.js"></script>
    <script>
      var vConsole = new VConsole();
      console.log("Hello World!");
    </script>

    <!-- <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script> -->

    <script>
      async function topictype() {
        const topice = document.getElementById("topic").value;
        if (topice == "รูปแบบการจัด") {
          document.getElementById("flowerarrangement").style.display = "block";

          document.getElementById("flowercolor").style.display = "none";
          document.getElementById("flowermeaning").style.display = "none";
          document.getElementById("bigday").style.display = "none";

          var flowerarrangement =
            document.getElementById("flowerarrangement").value;

          if (flowerarrangement == "ช่อดอกไม้") {
            document.getElementById("bouquetsize").style.display = "block";
            var bouquetsize = document.getElementById("bouquetsize").value;

            if (bouquetsize == "" || bouquetsize == "ทั้งหมด") {
              document.getElementById("flowers").style.display = "none";
            } else {
              document.getElementById("flowers").style.display = "block";
            }

            document.getElementById("flowervase").style.display = "none";
            document.getElementById("wreathpattern").style.display = "none";
          } else if (flowerarrangement == "แจกัน") {
            document.getElementById("flowervase").style.display = "block";

            document.getElementById("wreathpattern").style.display = "none";
            document.getElementById("bouquetsize").style.display = "none";
          } else if (flowerarrangement == "พวงหลีด") {
            document.getElementById("wreathpattern").style.display = "block";

            document.getElementById("flowervase").style.display = "none";
            document.getElementById("bouquetsize").style.display = "none";
          } else {
            document.getElementById("wreathpattern").style.display = "none";
            document.getElementById("flowervase").style.display = "none";
            document.getElementById("bouquetsize").style.display = "none";
          }
        } else if (topice == "สีดอกไม้") {
          document.getElementById("flowercolor").style.display = "block";

          document.getElementById("flowerarrangement").style.display = "none";
          document.getElementById("flowermeaning").style.display = "none";
          document.getElementById("bigday").style.display = "none";
          document.getElementById("bouquetsize").style.display = "none";
          document.getElementById("flowervase").style.display = "none";
          document.getElementById("wreathpattern").style.display = "none";
          document.getElementById("flowers").style.display = "none";
        } else if (topice == "ความหมายดอกไม้") {
          document.getElementById("flowermeaning").style.display = "block";

          document.getElementById("flowerarrangement").style.display = "none";
          document.getElementById("flowercolor").style.display = "none";
          document.getElementById("bigday").style.display = "none";
          document.getElementById("bouquetsize").style.display = "none";
          document.getElementById("flowervase").style.display = "none";
          document.getElementById("wreathpattern").style.display = "none";
          document.getElementById("flowers").style.display = "none";
        } else if (topice == "วันสำคัญ") {
          document.getElementById("bigday").style.display = "block";

          document.getElementById("flowerarrangement").style.display = "none";
          document.getElementById("flowercolor").style.display = "none";
          document.getElementById("flowermeaning").style.display = "none";
          document.getElementById("bouquetsize").style.display = "none";
          document.getElementById("flowervase").style.display = "none";
          document.getElementById("wreathpattern").style.display = "none";
          document.getElementById("flowers").style.display = "none";
        } else {
          document.getElementById("flowerarrangement").style.display = "none";
          document.getElementById("flowercolor").style.display = "none";
          document.getElementById("flowermeaning").style.display = "none";
          document.getElementById("bigday").style.display = "none";
          document.getElementById("bouquetsize").style.display = "none";
          document.getElementById("flowervase").style.display = "none";
          document.getElementById("wreathpattern").style.display = "none";
          document.getElementById("flowers").style.display = "none";
        }
      }
    

      async function shareMsg() {
        await liff.shareTargetPicker([
          {
            type: "text",
            text: "This message waas sent by ShareTargetPicker",
          },
        ]);
        liff.closeWindow();
      }


      function Closed() {
        liff.closeWindow();
      }

      async function getFriendship() {
        const friend = await liff.getFriendship();
        document.getElementById("friendship").append(friend.friendFlag);
        if (!friend.friendFlag) {
          if (confirm("คุณยังไม่ได้เพิ่ม Bot เป็นเพื่อน จะเพิ่มเลยไหม ?")) {
            window.location = "https://line.me/R/ti/p/Q178yfyoa";
          }
        }
      }

      async function sendMsg() {
        if (
          liff.getContext().type !== "none" &&
          liff.getContext().type !== "external"
        ) {
          await liff.sendMessages([
            {
              type: "text",
              text: "สวัสดีครับการแชร์ข้อความ",
            },
            {
  "type": "image",
  "originalContentUrl": "https://www.emporium.co.th/wp-content/uploads/2020/02/20200204-Web-Cover-01-1.jpg",
  "previewImageUrl": "https://www.emporium.co.th/wp-content/uploads/2020/02/20200204-Web-Cover-01-1.jpg"
},
          ]);
          alert("Message Sent");
        }
        liff.closeWindow();
      }



      async function main() {
        liff.ready.then(() => {
          document.getElementById("isLoggedIn").append(liff.isLoggedIn());
          if (liff.isLoggedIn()) {
            getFriendship();
          } else {
            liff.login();
          }
        });
        await liff.init({ liffId: "1656033600-Bwm23aQn" });
      }
      main();
    </script>
  </body>
</html>
